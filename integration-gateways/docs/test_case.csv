"test_id","feature_area","test_type","test_level","priority","automation_candidate","automation_roi","test_description","business_risk","technical_complexity","preconditions","test_steps","expected_result","test_data_needs","tools_required","estimated_effort_hours","automation_effort_hours","maintenance_effort_annual","dependencies","environment_requirements","success_criteria","failure_impact","regression_frequency","data_setup_complexity","cleanup_requirements","security_considerations","performance_expectations","accessibility_requirements"
"TEST-AUTH-001","Authentication & Tenant Isolation","Security","Integration","Critical","true","Very High","Verify Row-Level Security via Middleware prevents cross-tenant data access","Critical - Data leakage between merchants destroys platform trust","High","Two distinct merchant accounts (Merchant A, Merchant B) created; Data seeded for both","1. Login as Merchant A; 2. Extract valid JWT; 3. Attempt API call to fetch orders with Merchant B's ID manually injected in payload/params; 4. Attempt API call to analytics endpoint requesting Merchant B's data","API returns 403 Forbidden or returns only Merchant A's data ignoring the injection parameters","Multi-tenant seed data; Valid JWTs for different tenants","Jest; Supertest","4","6","2","RBAC Middleware; Prisma Client Extensions","CI Environment with seeded PostgreSQL","Zero records from Merchant B returned to Merchant A","Critical Security Vulnerability","Every PR merging to main","Medium","None (transactional rollback)","IDOR prevention","< 50ms middleware overhead","N/A"
"TEST-SYNC-005","Data Ingestion Pipeline","Functional","System","Critical","true","High","Verify recursive pagination logic handles Salla API rate limits and timeouts via QStash","High - Incomplete data import leads to incorrect analytics","High","Mock Salla API configured to return 10,000 orders and random 429 responses","1. Initiate historical sync for 12 months; 2. Worker processes page 1; 3. Mock API returns 429; 4. Worker should requeue self with backoff; 5. Process continues until all pages synced","Job completes with 100% data integrity; No Vercel timeouts; Checkpoints saved correctly","Large mock dataset of orders","Jest; MSW (Mock Service Worker); QStash Simulator","8","16","4","QStash; Redis; Salla Client","Integration Environment","All 10,000 orders present in DB; Retry mechanism triggered correctly","Data Sync Failure","On Pipeline Changes","High","Flush Redis; Truncate Orders table","N/A","Job handles interruptions gracefully","N/A"
"TEST-CART-003","Cart Recovery Automation","Functional","E2E","High","true","High","Verify abandoned cart trigger sends email and stops sequence upon purchase","Medium - Spamming converted customers damages brand reputation","Medium","Cart Recovery Sequence configured; Customer email subscribed","1. Simulate 'cart.updated' webhook (timestamp -61 mins); 2. Verify 'Email 1' scheduled/sent via Postmark mock; 3. Simulate 'order.created' webhook for same cart; 4. Verify sequence cancellation","Email 1 sent; Email 2 cancelled immediately after order creation","Webhook payloads; Email templates","Playwright; MailHog/Mailtrap","6","12","3","Webhook Handler; Scheduler; Postmark API","Staging with Mailtrap","Conversion event strictly prevents subsequent emails","Negative User Experience","Every Release","Medium","Reset Scheduler state","Unsubscribe link generation validation","Webhook processing < 1s","Email template HTML validation"
"TEST-AI-002","AI Assistant (RAG)","Functional","Integration","Medium","true","Medium","Validate AI Assistant SQL generation accuracy against 'Golden Set' of queries","Medium - AI hallucination leads to incorrect business insights","High","ClickHouse seeded with known deterministic dataset","1. Send natural language query 'Total sales last week'; 2. Intercept generated SQL; 3. Execute SQL against DB; 4. Compare result with known truth","Generated SQL syntax is valid ClickHouse SQL; Result matches ground truth within 0.1% tolerance","Golden set of NL queries and expected SQL/Results","Jest; OpenAI Mock","12","20","8","OpenAI API; ClickHouse","Integration Environment","95% accuracy on Golden Set regression","Loss of trust in AI features","On Schema Changes","High","None","Prompt injection testing included","SQL generation < 3s","N/A"