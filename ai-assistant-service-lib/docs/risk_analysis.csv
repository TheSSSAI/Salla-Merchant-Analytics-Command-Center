"risk_id","risk_category","risk_description","probability","impact","risk_score","priority_level","affected_tasks","root_cause","mitigation_strategy","contingency_plan","monitoring_trigger","owner","due_date","status"
"RISK-TECH-001","Technical","Serverless execution timeout during historical data synchronization (WI-DATA-001) due to large Salla store datasets exceeding Vercel function limits (10-60s).","5","5","25","Critical","WI-DATA-001, WI-UI-002","Vercel serverless functions have strict execution time limits incompatible with long-running ETL processes for large merchant catalogs.","Architect sync worker as a recursive QStash job chain where each invocation processes a single page of Salla API results and triggers the next page as a new event, bypassing execution limits.","Implement a fallback 'resume' button in the UI (WI-UI-002) allowing manual restart from the last successful checkpoint in the database.","Sync job duration > 50s or Vercel 504 Gateway Timeout errors in Axiom logs.","Backend Lead","2025-06-15","In Progress"
"RISK-SEC-001","Quality","Cross-tenant data leakage in AI-generated SQL queries (WI-AI-002) via Prompt Injection or RAG hallucination.","3","5","15","High","WI-AI-002, WI-SEC-001","LLMs may ignore system prompts or generate SQL lacking the mandatory `merchantId` WHERE clause.","Enforce a database-level Row Level Security (RLS) policy or a strict SQL parser middleware that verifies and injects the `merchantId` predicate into every AI-generated query before execution.","Restrict AI functionality to predefined parameterized queries (removing dynamic SQL generation) if leakage is detected.","Detection of queries missing `merchantId` clause in database audit logs.","Security Engineer","2025-07-01","Not Started"
"RISK-EXT-001","External","Salla API rate limiting (429 Too Many Requests) blocking the Data Synchronization Pipeline (WS-SYNC) during peak onboarding.","4","3","12","Medium","WI-DATA-001, WI-INT-002","Dependent on external API thresholds which may be lower than the platform's processing capacity via QStash.","Implement Upstash Ratelimit / Token Bucket algorithm within the sync worker to respect Salla headers and use QStash 'delay' feature for exponential backoff.","Throttle concurrent onboarding slots to limit aggregate API load on Salla platform.","Salla API 429 error rate > 5% in a 5-minute window.","Integration Specialist","2025-06-20","Planned"
"RISK-DATA-001","Technical","Data inconsistency between OLTP (Postgres) and OLAP (ClickHouse) due to CDC Pipeline latency or message ordering failures (WI-DATA-003).","3","4","12","Medium","WI-DATA-003, WI-API-001","Asynchronous nature of QStash/CDC and lack of strict ordering guarantees in standard webhook processing.","Use ClickHouse `ReplacingMergeTree` engine to handle deduplication and eventual consistency, utilizing `updatedAt` timestamps for versioning.","Develop a nightly reconciliation job to perform a full checksum comparison and re-sync divergent records.","OLAP data lag metric exceeding 10 minutes (vs 5 min requirement).","Data Engineer","2025-06-30","Not Started"
"RISK-PERF-001","Operational","PostgreSQL connection exhaustion in Serverless environment causing API failures (500 errors).","4","4","16","High","WI-DB-001, WI-AUTH-001","Serverless functions create a new DB connection per invocation, rapidly exhausting the max connection pool.","Implement connection pooling (e.g., PgBouncer or Supabase Transaction Pool) and ensure Prisma client is instantiated as a global singleton in development/production.","Scale up database instance size or reduce concurrency limit on Vercel functions.","Database active connection count > 80% of max capacity.","DevOps Engineer","2025-05-30","In Progress"
"RISK-QUAL-001","Quality","Email deliverability failure for Cart Recovery (WI-EMAIL-002) due to improper merchant DNS configuration (DKIM/SPF).","4","4","16","High","WI-EMAIL-002, WS-AUTOMATION","Dependency on non-technical merchants to correctly configure complex DNS records for domain verification.","Develop a specialized UI wizard that queries DNS records in real-time (using `dns` module) to provide specific, step-by-step correction feedback to the merchant.","Fallback to sending emails via a generic platform domain (with lower conversion rates) if custom domain verification fails.","Postmark bounce rate > 10% or domain verification failure rate > 30%.","Frontend Lead","2025-07-15","Planned"