<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Molecular Component Library</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono&display=swap" rel="stylesheet">
  
  <style>
    /* -------------------------------------------------------------------------- */
    /* 1. DESIGN TOKENS (From Design System)                                      */
    /* -------------------------------------------------------------------------- */
    :root {
      /* Colors: Primary (Indigo) */
      --color-primary-50: #eef2ff;
      --color-primary-100: #e0e7ff;
      --color-primary-500: #6366f1;
      --color-primary-600: #4f46e5;
      --color-primary-700: #4338ca;
      
      /* Colors: Neutrals (Slate) */
      --color-white: #ffffff;
      --color-gray-50: #f8fafc;
      --color-gray-100: #f1f5f9;
      --color-gray-200: #e2e8f0;
      --color-gray-300: #cbd5e1;
      --color-gray-400: #94a3b8;
      --color-gray-500: #64748b;
      --color-gray-600: #475569;
      --color-gray-700: #334155;
      --color-gray-800: #1e293b;
      --color-gray-900: #0f172a;

      /* Colors: Semantic */
      --color-success: #10b981;
      --color-success-bg: #ecfdf5;
      --color-success-text: #065f46;
      --color-error: #ef4444;
      --color-error-bg: #fef2f2;
      --color-error-text: #991b1b;

      /* Spacing */
      --spacing-1: 4px;
      --spacing-2: 8px;
      --spacing-3: 12px;
      --spacing-4: 16px;
      --spacing-6: 24px;
      --spacing-8: 32px;

      /* Typography */
      --font-primary: 'Inter', sans-serif;
      --text-xs: 0.75rem;
      --text-sm: 0.875rem;
      --text-base: 1rem;
      --text-lg: 1.125rem;
      --text-xl: 1.25rem;
      --text-2xl: 1.5rem;
      --text-3xl: 2rem;

      /* UI Elements */
      --radius-sm: 4px;
      --radius-md: 6px;
      --radius-lg: 8px;
      --radius-full: 9999px;
      --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
      --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
      --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
      --shadow-focus: 0 0 0 3px var(--color-primary-100);
      
      /* Z-Index */
      --z-dropdown: 1000;
      --z-sticky: 1020;
    }

    /* -------------------------------------------------------------------------- */
    /* 2. BASE RESET & LAYOUT                                                     */
    /* -------------------------------------------------------------------------- */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: var(--font-primary);
      background-color: var(--color-gray-50);
      color: var(--color-gray-900);
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
      padding: var(--spacing-8);
    }
    
    .container { max-width: 1200px; margin: 0 auto; }
    .header { margin-bottom: var(--spacing-8); border-bottom: 1px solid var(--color-gray-200); padding-bottom: var(--spacing-4); }
    .header h1 { font-size: var(--text-3xl); font-weight: 700; color: var(--color-gray-900); }
    .header p { color: var(--color-gray-500); margin-top: var(--spacing-2); }

    .showcase-section {
      margin-bottom: var(--spacing-8);
      background: var(--color-white);
      border: 1px solid var(--color-gray-200);
      border-radius: var(--radius-lg);
      padding: var(--spacing-6);
      box-shadow: var(--shadow-sm);
    }
    .showcase-title {
      font-size: var(--text-xl);
      font-weight: 600;
      margin-bottom: var(--spacing-2);
      padding-bottom: var(--spacing-2);
      border-bottom: 1px solid var(--color-gray-100);
    }
    .showcase-desc { color: var(--color-gray-500); font-size: var(--text-sm); margin-bottom: var(--spacing-6); }
    .variant-grid { display: grid; gap: var(--spacing-6); grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); }
    .variant-item { display: flex; flex-direction: column; gap: var(--spacing-2); }
    .variant-label { font-size: var(--text-xs); font-weight: 600; text-transform: uppercase; color: var(--color-gray-400); letter-spacing: 0.05em; }

    /* -------------------------------------------------------------------------- */
    /* 3. ATOMIC DEPENDENCIES (Extracted from Atomic Library)                     */
    /* -------------------------------------------------------------------------- */
    /* Button Atom */
    .btn {
      display: inline-flex; align-items: center; justify-content: center; gap: var(--spacing-2);
      padding: 8px 16px; border-radius: var(--radius-md); font-weight: 500; font-size: var(--text-sm);
      cursor: pointer; transition: all 0.2s; border: 1px solid transparent; height: 36px; white-space: nowrap;
    }
    .btn:focus-visible { outline: none; box-shadow: var(--shadow-focus); }
    .btn--primary { background-color: var(--color-primary-600); color: var(--color-white); }
    .btn--primary:hover { background-color: var(--color-primary-700); }
    .btn--secondary { background-color: var(--color-white); border-color: var(--color-gray-300); color: var(--color-gray-700); }
    .btn--secondary:hover { background-color: var(--color-gray-50); border-color: var(--color-gray-400); }
    .btn--ghost { background-color: transparent; color: var(--color-gray-600); }
    .btn--ghost:hover { background-color: var(--color-gray-100); color: var(--color-gray-900); }
    .btn--icon { padding: 0; width: 36px; color: var(--color-gray-500); }
    .btn--sm { height: 32px; font-size: var(--text-xs); padding: 0 12px; }

    /* Input Atom */
    .input {
      width: 100%; padding: 8px 12px; font-size: var(--text-sm); color: var(--color-gray-900);
      background: var(--color-white); border: 1px solid var(--color-gray-300); border-radius: var(--radius-md);
      transition: all 0.2s;
    }
    .input:focus { outline: none; border-color: var(--color-primary-500); box-shadow: var(--shadow-focus); }
    .input:disabled { background: var(--color-gray-50); cursor: not-allowed; }

    /* Avatar Atom */
    .avatar {
      width: 32px; height: 32px; border-radius: 50%; background: var(--color-gray-200);
      display: flex; align-items: center; justify-content: center; font-size: var(--text-xs);
      font-weight: 600; color: var(--color-gray-600); overflow: hidden;
    }
    .avatar img { width: 100%; height: 100%; object-fit: cover; }

    /* Icons (SVG placeholders) */
    .icon { width: 16px; height: 16px; stroke: currentColor; fill: none; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }
    .icon--sm { width: 14px; height: 14px; }
    .icon--lg { width: 20px; height: 20px; }

    /* -------------------------------------------------------------------------- */
    /* 4. MOLECULAR COMPONENT: DATE RANGE FILTER                                  */
    /* -------------------------------------------------------------------------- */
    .date-filter {
      position: relative;
      display: inline-block;
    }

    .date-filter__trigger {
      display: inline-flex;
      align-items: center;
      gap: var(--spacing-2);
      min-width: 240px;
      justify-content: space-between;
    }

    .date-filter__content {
      position: absolute;
      top: calc(100% + 4px);
      left: 0;
      width: 320px;
      background: var(--color-white);
      border: 1px solid var(--color-gray-200);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-lg);
      padding: var(--spacing-2);
      z-index: var(--z-dropdown);
      display: none; /* Controlled by details[open] */
      animation: slideDown 0.1s ease-out;
    }

    /* Logic for Dropdown Visibility using details/summary pattern */
    details.date-filter[open] .date-filter__content {
      display: block;
    }
    details.date-filter > summary {
      list-style: none;
    }
    details.date-filter > summary::-webkit-details-marker {
      display: none;
    }

    .date-filter__presets {
      display: flex;
      flex-direction: column;
      border-bottom: 1px solid var(--color-gray-100);
      padding-bottom: var(--spacing-2);
      margin-bottom: var(--spacing-2);
    }

    .date-filter__preset-btn {
      text-align: left;
      border: none;
      background: none;
      padding: 6px 12px;
      font-size: var(--text-sm);
      color: var(--color-gray-700);
      border-radius: var(--radius-md);
      cursor: pointer;
    }
    .date-filter__preset-btn:hover { background: var(--color-gray-50); }
    .date-filter__preset-btn--active { background: var(--color-primary-50); color: var(--color-primary-700); font-weight: 500; }

    .date-filter__custom {
      padding: 0 var(--spacing-2);
    }
    .date-filter__inputs {
      display: flex;
      gap: var(--spacing-2);
      align-items: center;
      margin-bottom: var(--spacing-4);
    }
    .date-filter__actions {
      display: flex;
      justify-content: flex-end;
      gap: var(--spacing-2);
      padding-top: var(--spacing-2);
      border-top: 1px solid var(--color-gray-100);
    }

    /* Comparison Mode Variant Styles */
    .date-filter--compare .date-filter__trigger {
      border-color: var(--color-primary-500);
      background-color: var(--color-primary-50);
    }

    @keyframes slideDown {
      from { opacity: 0; transform: translateY(-8px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Responsive: Mobile Full Screen */
    @media (max-width: 768px) {
      .date-filter__content {
        position: fixed;
        top: auto;
        bottom: 0;
        left: 0;
        width: 100%;
        border-radius: var(--radius-lg) var(--radius-lg) 0 0;
        padding: var(--spacing-4);
        box-shadow: 0 -4px 12px rgba(0,0,0,0.1);
      }
      .date-filter__inputs { flex-direction: column; align-items: stretch; }
    }

    /* -------------------------------------------------------------------------- */
    /* 5. MOLECULAR COMPONENT: ACCOUNT SWITCHER                                   */
    /* -------------------------------------------------------------------------- */
    .account-switcher {
      position: relative;
      font-family: var(--font-primary);
    }

    .account-switcher__trigger {
      display: flex;
      align-items: center;
      gap: var(--spacing-3);
      padding: var(--spacing-2);
      background: transparent;
      border: 1px solid transparent;
      border-radius: var(--radius-md);
      cursor: pointer;
      width: 100%;
      text-align: left;
      transition: background 0.2s;
    }
    .account-switcher__trigger:hover { background: var(--color-gray-100); }
    .account-switcher__trigger:focus-visible { background: var(--color-gray-100); outline: 2px solid var(--color-primary-600); }

    .account-switcher__info {
      flex: 1;
      display: flex;
      flex-direction: column;
      line-height: 1.2;
    }
    .account-switcher__name { font-size: var(--text-sm); font-weight: 600; color: var(--color-gray-900); }
    .account-switcher__role { font-size: var(--text-xs); color: var(--color-gray-500); }

    .account-switcher__menu {
      position: absolute;
      top: calc(100% + 4px);
      left: 0;
      width: 260px;
      background: var(--color-white);
      border: 1px solid var(--color-gray-200);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-lg);
      padding: var(--spacing-1);
      z-index: var(--z-dropdown);
      display: none;
    }
    details.account-switcher[open] .account-switcher__menu { display: block; }

    .account-switcher__item {
      display: flex;
      align-items: center;
      gap: var(--spacing-3);
      padding: var(--spacing-2);
      border-radius: var(--radius-md);
      cursor: pointer;
      text-decoration: none;
      color: inherit;
    }
    .account-switcher__item:hover { background: var(--color-gray-50); }
    .account-switcher__item--active { background: var(--color-primary-50); }
    .account-switcher__item--active .account-switcher__name { color: var(--color-primary-700); }
    
    .account-switcher__divider { height: 1px; background: var(--color-gray-100); margin: var(--spacing-1) 0; }

    .account-switcher__check { margin-left: auto; color: var(--color-primary-600); opacity: 0; }
    .account-switcher__item--active .account-switcher__check { opacity: 1; }

    /* -------------------------------------------------------------------------- */
    /* 6. MOLECULAR COMPONENT: KPI CARD                                           */
    /* -------------------------------------------------------------------------- */
    .kpi-card {
      background: var(--color-white);
      border: 1px solid var(--color-gray-200);
      border-radius: var(--radius-lg);
      padding: var(--spacing-6);
      display: flex;
      flex-direction: column;
      gap: var(--spacing-2);
      transition: box-shadow 0.2s;
    }
    .kpi-card:hover { border-color: var(--color-gray-300); box-shadow: var(--shadow-sm); }

    .kpi-card__header { display: flex; justify-content: space-between; align-items: flex-start; }
    .kpi-card__title { font-size: var(--text-sm); font-weight: 500; color: var(--color-gray-500); }
    
    .kpi-card__value { font-size: var(--text-3xl); font-weight: 700; color: var(--color-gray-900); letter-spacing: -0.02em; }
    
    .kpi-card__footer { display: flex; align-items: center; gap: var(--spacing-2); margin-top: var(--spacing-1); }
    
    /* Trend Atom Integration */
    .trend-indicator { display: inline-flex; align-items: center; gap: 4px; font-size: var(--text-sm); font-weight: 500; }
    .trend-indicator--positive { color: var(--color-success-text); background: var(--color-success-bg); padding: 2px 8px; border-radius: var(--radius-full); }
    .trend-indicator--negative { color: var(--color-error-text); background: var(--color-error-bg); padding: 2px 8px; border-radius: var(--radius-full); }
    .trend-indicator--neutral { color: var(--color-gray-600); background: var(--color-gray-100); padding: 2px 8px; border-radius: var(--radius-full); }
    
    .kpi-card__context { font-size: var(--text-xs); color: var(--color-gray-500); }

    /* Skeleton Loading State */
    .kpi-card--loading .kpi-card__value,
    .kpi-card--loading .kpi-card__title {
      background: var(--color-gray-100);
      color: transparent;
      border-radius: var(--radius-sm);
    }
    .kpi-card--loading .kpi-card__value { width: 60%; }
    .kpi-card--loading .kpi-card__title { width: 40%; }

    /* -------------------------------------------------------------------------- */
    /* 7. MOLECULAR COMPONENT: CHAT INPUT AREA                                    */
    /* -------------------------------------------------------------------------- */
    .chat-input {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-2);
      background: var(--color-white);
      border: 1px solid var(--color-gray-200);
      border-radius: var(--radius-lg);
      padding: var(--spacing-2);
      box-shadow: var(--shadow-sm);
      transition: border-color 0.2s, box-shadow 0.2s;
    }
    .chat-input:focus-within {
      border-color: var(--color-primary-500);
      box-shadow: var(--shadow-focus);
    }

    .chat-input__field {
      width: 100%;
      border: none;
      resize: none;
      outline: none;
      font-family: var(--font-primary);
      font-size: var(--text-base);
      color: var(--color-gray-900);
      min-height: 24px;
      max-height: 200px;
      padding: var(--spacing-2);
    }
    .chat-input__field::placeholder { color: var(--color-gray-400); }

    .chat-input__footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 var(--spacing-2) var(--spacing-1);
    }

    .chat-input__helper { font-size: var(--text-xs); color: var(--color-gray-400); }

    .chat-input--disabled { background: var(--color-gray-50); cursor: not-allowed; }
    .chat-input--disabled .chat-input__field { background: transparent; cursor: not-allowed; }

    /* -------------------------------------------------------------------------- */
    /* 8. MOLECULAR COMPONENT: GLOBAL SEARCH BAR                                  */
    /* -------------------------------------------------------------------------- */
    .search-bar {
      position: relative;
      width: 320px;
      transition: width 0.3s ease;
    }
    .search-bar:focus-within { width: 480px; }

    .search-bar__wrapper {
      position: relative;
      display: flex;
      align-items: center;
    }

    .search-bar__icon {
      position: absolute;
      left: 12px;
      color: var(--color-gray-400);
      pointer-events: none;
    }

    .search-bar__input {
      width: 100%;
      height: 40px;
      padding-left: 40px;
      padding-right: 48px; /* Space for shortcut */
      background: var(--color-gray-50);
      border: 1px solid var(--color-gray-200);
      border-radius: var(--radius-md);
      font-size: var(--text-sm);
      color: var(--color-gray-900);
      transition: all 0.2s;
    }
    .search-bar__input:focus {
      background: var(--color-white);
      border-color: var(--color-primary-500);
      box-shadow: var(--shadow-focus);
      outline: none;
    }

    .search-bar__shortcut {
      position: absolute;
      right: 12px;
      display: flex;
      align-items: center;
      padding: 2px 6px;
      background: var(--color-white);
      border: 1px solid var(--color-gray-200);
      border-radius: 4px;
      font-size: 10px;
      color: var(--color-gray-500);
      font-family: var(--font-mono);
      pointer-events: none;
    }

    .search-bar__results {
      position: absolute;
      top: calc(100% + 8px);
      left: 0;
      width: 100%;
      background: var(--color-white);
      border: 1px solid var(--color-gray-200);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-lg);
      padding: var(--spacing-2) 0;
      z-index: var(--z-dropdown);
      display: none;
    }
    /* Simulate visible results for mockup */
    .search-bar--active .search-bar__results { display: block; }

    .search-result-item {
      padding: 8px 16px;
      display: flex;
      align-items: center;
      gap: var(--spacing-3);
      cursor: pointer;
      font-size: var(--text-sm);
      color: var(--color-gray-700);
    }
    .search-result-item:hover { background: var(--color-gray-50); }
    .search-result-item strong { color: var(--color-gray-900); }

    /* Mobile Responsive Logic */
    @media (max-width: 768px) {
      .search-bar { width: 100%; }
      .search-bar:focus-within { width: 100%; }
      .search-bar__shortcut { display: none; }
    }

  </style>
</head>
<body>

  <div class="container">
    <header class="header">
      <h1>Molecular Component Showcase</h1>
      <p>Self-contained, production-ready components built using the Design System tokens and Atomic foundation.</p>
    </header>

    <!-- 1. DATE RANGE FILTER -->
    <section class="showcase-section">
      <div class="showcase-title">1. Date Range Filter</div>
      <div class="showcase-desc">A composite control for filtering dashboard data by time. Supports presets and custom ranges.</div>
      
      <div class="variant-grid">
        <!-- Variant: Default State -->
        <div class="variant-item">
          <span class="variant-label">Default State</span>
          <details class="date-filter">
            <summary class="btn btn--secondary date-filter__trigger">
              <span style="display:flex; align-items:center; gap:8px;">
                <svg class="icon icon--sm" viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
                Last 7 Days
              </span>
              <svg class="icon icon--sm" viewBox="0 0 24 24"><polyline points="6 9 12 15 18 9"></polyline></svg>
            </summary>
            
            <div class="date-filter__content">
              <div class="date-filter__presets">
                <button class="date-filter__preset-btn">Today</button>
                <button class="date-filter__preset-btn date-filter__preset-btn--active">Last 7 Days</button>
                <button class="date-filter__preset-btn">Last 30 Days</button>
                <button class="date-filter__preset-btn">Month to Date</button>
              </div>
              <div class="date-filter__custom">
                <div class="date-filter__inputs">
                  <div style="flex:1;">
                    <label style="display:block; font-size:10px; color:var(--color-gray-500); margin-bottom:4px;">START</label>
                    <input type="text" class="input" value="Oct 24, 2023" readonly>
                  </div>
                  <div style="flex:1;">
                    <label style="display:block; font-size:10px; color:var(--color-gray-500); margin-bottom:4px;">END</label>
                    <input type="text" class="input" value="Oct 31, 2023" readonly>
                  </div>
                </div>
                <div class="date-filter__actions">
                  <button class="btn btn--ghost btn--sm">Cancel</button>
                  <button class="btn btn--primary btn--sm">Apply</button>
                </div>
              </div>
            </div>
          </details>
        </div>

        <!-- Variant: Comparison Mode -->
        <div class="variant-item">
          <span class="variant-label">Comparison Mode Active</span>
          <details class="date-filter date-filter--compare">
            <summary class="btn btn--secondary date-filter__trigger">
              <span style="display:flex; align-items:center; gap:8px;">
                <svg class="icon icon--sm" viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
                Last 30 Days <span style="color:var(--color-gray-400)">vs</span> Previous Period
              </span>
              <svg class="icon icon--sm" viewBox="0 0 24 24"><polyline points="6 9 12 15 18 9"></polyline></svg>
            </summary>
            <!-- Content omitted for brevity, similar structure -->
          </details>
        </div>
      </div>
    </section>

    <!-- 2. ACCOUNT SWITCHER -->
    <section class="showcase-section">
      <div class="showcase-title">2. Account Switcher</div>
      <div class="showcase-desc">Navigation molecule allowing users to toggle between different merchant accounts/teams.</div>

      <div class="variant-grid">
        <div class="variant-item">
          <span class="variant-label">Dropdown Closed</span>
          <div style="max-width: 260px;">
            <details class="account-switcher">
              <summary class="account-switcher__trigger">
                <div class="avatar"><img src="https://ui-avatars.com/api/?name=Nike+Store&background=random" alt="Store"></div>
                <div class="account-switcher__info">
                  <span class="account-switcher__name">Nike Store</span>
                  <span class="account-switcher__role">Owner</span>
                </div>
                <svg class="icon icon--sm" style="color:var(--color-gray-400)" viewBox="0 0 24 24"><polyline points="6 9 12 15 18 9"></polyline></svg>
              </summary>
            </details>
          </div>
        </div>

        <div class="variant-item">
          <span class="variant-label">Dropdown Open</span>
          <div style="max-width: 260px; height: 220px; position:relative;">
            <details class="account-switcher" open>
              <summary class="account-switcher__trigger">
                <div class="avatar"><img src="https://ui-avatars.com/api/?name=Nike+Store&background=random" alt="Store"></div>
                <div class="account-switcher__info">
                  <span class="account-switcher__name">Nike Store</span>
                  <span class="account-switcher__role">Owner</span>
                </div>
                <svg class="icon icon--sm" style="color:var(--color-gray-400)" viewBox="0 0 24 24"><polyline points="6 9 12 15 18 9"></polyline></svg>
              </summary>
              <div class="account-switcher__menu">
                <a href="#" class="account-switcher__item account-switcher__item--active">
                  <div class="avatar avatar--sm">NS</div>
                  <span class="account-switcher__name">Nike Store</span>
                  <svg class="icon icon--sm account-switcher__check" viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"></polyline></svg>
                </a>
                <a href="#" class="account-switcher__item">
                  <div class="avatar avatar--sm">AS</div>
                  <span class="account-switcher__name">Adidas Outlet</span>
                </a>
                <div class="account-switcher__divider"></div>
                <a href="#" class="account-switcher__item">
                  <div style="display:flex; align-items:center; justify-content:center; width:24px; height:24px; border:1px dashed var(--color-gray-400); border-radius:50%;">
                    <svg class="icon icon--sm" style="width:12px; height:12px;" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                  </div>
                  <span style="font-size:var(--text-sm); color:var(--color-gray-600);">Add Account</span>
                </a>
              </div>
            </details>
          </div>
        </div>
      </div>
    </section>

    <!-- 3. KPI CARD -->
    <section class="showcase-section">
      <div class="showcase-title">3. KPI Card</div>
      <div class="showcase-desc">Primary data display unit for dashboards. Includes header, metric, and trend analysis.</div>

      <div class="variant-grid">
        <!-- Variant: Positive Trend -->
        <div class="variant-item">
          <span class="variant-label">Positive Trend</span>
          <div class="kpi-card">
            <div class="kpi-card__header">
              <span class="kpi-card__title">Total Revenue</span>
              <button class="btn btn--icon btn--ghost btn--sm" aria-label="Help">
                <svg class="icon icon--sm" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
              </button>
            </div>
            <div class="kpi-card__value">$45,231.89</div>
            <div class="kpi-card__footer">
              <span class="trend-indicator trend-indicator--positive">
                <svg class="icon icon--sm" style="width:12px; height:12px;" viewBox="0 0 24 24"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline></svg>
                20.1%
              </span>
              <span class="kpi-card__context">vs last month</span>
            </div>
          </div>
        </div>

        <!-- Variant: Negative Trend -->
        <div class="variant-item">
          <span class="variant-label">Negative Trend</span>
          <div class="kpi-card">
            <div class="kpi-card__header">
              <span class="kpi-card__title">Bounce Rate</span>
              <button class="btn btn--icon btn--ghost btn--sm" aria-label="Help">
                <svg class="icon icon--sm" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
              </button>
            </div>
            <div class="kpi-card__value">42.5%</div>
            <div class="kpi-card__footer">
              <span class="trend-indicator trend-indicator--negative">
                <svg class="icon icon--sm" style="width:12px; height:12px;" viewBox="0 0 24 24"><polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline></svg>
                4.2%
              </span>
              <span class="kpi-card__context">vs last month</span>
            </div>
          </div>
        </div>

        <!-- Variant: Loading State -->
        <div class="variant-item">
          <span class="variant-label">Loading State</span>
          <div class="kpi-card kpi-card--loading">
            <div class="kpi-card__header">
              <span class="kpi-card__title">Loading...</span>
            </div>
            <div class="kpi-card__value">000000</div>
            <div class="kpi-card__footer">
              <div style="height:16px; width:40%; background:var(--color-gray-100); border-radius:4px;"></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 4. CHAT INPUT AREA -->
    <section class="showcase-section">
      <div class="showcase-title">4. Chat Input Area</div>
      <div class="showcase-desc">Input mechanism for the AI Assistant. Includes textarea, send button, and helper text.</div>

      <div class="variant-grid">
        <div class="variant-item" style="flex: 1;">
          <span class="variant-label">Default State</span>
          <div class="chat-input">
            <textarea class="chat-input__field" placeholder="Ask about your sales data..."></textarea>
            <div class="chat-input__footer">
              <span class="chat-input__helper">Shift + Enter for new line</span>
              <button class="btn btn--primary btn--sm btn--icon" aria-label="Send">
                <svg class="icon" viewBox="0 0 24 24"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
              </button>
            </div>
          </div>
        </div>

        <div class="variant-item" style="flex: 1;">
          <span class="variant-label">Disabled / Processing State</span>
          <div class="chat-input chat-input--disabled">
            <textarea class="chat-input__field" disabled placeholder="AI is thinking...">What was my top selling product last week?</textarea>
            <div class="chat-input__footer">
              <span class="chat-input__helper">Processing request...</span>
              <button class="btn btn--secondary btn--sm btn--icon" disabled aria-label="Send">
                <div style="width:14px; height:14px; border:2px solid var(--color-gray-400); border-top-color:transparent; border-radius:50%; animation:spin 1s linear infinite;"></div>
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 5. GLOBAL SEARCH BAR -->
    <section class="showcase-section">
      <div class="showcase-title">5. Global Search Bar</div>
      <div class="showcase-desc">Header search navigation with expansion logic and results dropdown.</div>

      <div class="variant-grid">
        <div class="variant-item">
          <span class="variant-label">Idle State</span>
          <div class="search-bar">
            <div class="search-bar__wrapper">
              <svg class="search-bar__icon icon" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
              <input type="text" class="search-bar__input" placeholder="Search customers, orders, products...">
              <div class="search-bar__shortcut">⌘ K</div>
            </div>
          </div>
        </div>

        <div class="variant-item">
          <span class="variant-label">Active State with Results</span>
          <div class="search-bar search-bar--active">
            <div class="search-bar__wrapper">
              <svg class="search-bar__icon icon" style="color:var(--color-primary-600)" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
              <input type="text" class="search-bar__input" value="Ord" style="background:var(--color-white); border-color:var(--color-primary-500);">
              <div class="search-bar__shortcut">Esc</div>
            </div>
            <div class="search-bar__results">
              <div style="padding:4px 12px; font-size:10px; font-weight:600; color:var(--color-gray-400); text-transform:uppercase;">Orders</div>
              <div class="search-result-item">
                <div style="display:flex; flex-direction:column;">
                  <span><strong>Ord</strong>er #1234</span>
                  <span style="font-size:12px; color:var(--color-gray-500);">Ahmed Ali • $120.00</span>
                </div>
              </div>
              <div class="search-result-item">
                <div style="display:flex; flex-direction:column;">
                  <span><strong>Ord</strong>er #1235</span>
                  <span style="font-size:12px; color:var(--color-gray-500);">Fatima S. • $85.50</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

  </div>

  <script>
    // Minimal JS strictly to demonstrate details/summary close-on-click-outside behavior for the mockup
    document.addEventListener('click', function(e) {
      const details = document.querySelectorAll('details[open]');
      details.forEach(detail => {
        if (!detail.contains(e.target)) {
          detail.removeAttribute('open');
        }
      });
    });
  </script>
</body>
</html>