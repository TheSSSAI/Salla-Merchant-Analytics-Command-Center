"risk_id","risk_category","risk_description","probability","impact","risk_score","priority_level","affected_tasks","root_cause","mitigation_strategy","contingency_plan","monitoring_trigger","owner","due_date","status"
"RISK-001","Technical","Data consistency drift between OLTP (PostgreSQL) and OLAP (ClickHouse) due to custom ELT pipeline failures or latency.","4","5","20","High","WI-009 (ELT Process), WI-010 (Sales Trend Analysis), WI-011 (Forecasting)","Reliance on a custom application-level CDC/polling mechanism (WI-009) rather than a native database replication tool creates potential for missed events or race conditions.","Implement the Transactional Outbox pattern ensuring atomicity in Postgres. Design ELT processor to be idempotent. Implement a daily reconciliation job that compares row counts and aggregates between DBs.","Implement a 'Full Re-sync' feature toggle for specific tenants to wipe and reload ClickHouse data from Postgres if corruption is detected.","Pipeline latency metric > 5 minutes (REQ-DATA-002 violation) or Dead Letter Queue depth > 0.","Lead Data Engineer","2025-06-15","Not Started"
"RISK-002","Technical","Tenant isolation failure leading to cross-contamination of merchant data in AI/RAG responses or analytics queries.","3","5","15","High","WI-005 (RBAC Middleware), WI-013 (RAG Query Service), WI-010 (Sales Trend API)","Complex query construction where `merchantId` must be manually injected into every Prisma, ClickHouse SQL, and pgvector query.","Implement a custom Prisma Client extension and ClickHouse query wrapper that enforces `merchantId` injection at the driver level. Use automated integration tests with multi-tenant mock data to verify isolation.","Immediate shutdown of API endpoints via feature flags; rollback to previous stable deployment; notify affected tenants per GDPR protocols.","Detection of queries returning data for a `merchantId` different from the authenticated user context.","Lead Security Architect","2025-06-01","In Progress"
"RISK-003","External","Salla API rate limiting causing failures or extreme delays during the Initial Historical Data Import (12/24 months).","5","3","15","High","WI-008 (Historical Data Import Job), Epic-002 (Onboarding)","Fetching 24 months of data (US-011) requires heavy pagination against Salla's external REST API, which enforces strict rate limits.","Implement robust exponential backoff and jitter in the `sync.worker.ts`. Use Upstash QStash to schedule 'chunked' imports rather than long-running processes.","Implement a 'Lazy Load' strategy where only the last 30 days are fetched immediately, and older data is backfilled at a slower, throttled rate.","High volume of HTTP 429 errors from Salla API in Axiom logs.","Backend Integration Specialist","2025-06-10","Not Started"
"RISK-004","Technical","AI Hallucinations generating invalid SQL for ClickHouse, resulting in execution errors or incorrect analytics data.","4","4","16","High","WI-013 (RAG Query Service), Epic-004 (AI Assistant)","The nondeterministic nature of LLMs combined with complex ClickHouse schema nuances (aggregations, unique keys) increases the chance of syntax errors.","Create a robust 'Golden Set' regression suite of natural language questions to verify SQL generation accuracy. Restrict AI to a 'readonly' database user. Implement a syntax validation step before execution.","Fallback to a deterministic 'Keyword Search' mode if the AI service fails or returns invalid SQL repeatedly.","SQL execution error rate > 5% on queries originating from the AI service.","AI Engineer","2025-06-30","Not Started"
"RISK-005","Operational","Cold start latency for Serverless Functions exceeding the p95 < 200ms requirement, specifically for dashboard loading.","4","3","12","Medium","WI-010 (Sales Trend API), WI-005 (RBAC Middleware)","Using Prisma (heavy client) inside Vercel Serverless functions can significantly increase boot time on cold starts.","Use Vercel Edge Middleware for authentication/routing where possible. Optimize Prisma import size. Implement aggressive caching (Redis/Vercel KV) for dashboard KPIs.","Migrate critical read-heavy endpoints to Vercel Edge Functions using a lighter SQL driver (e.g., Neon serverless driver or ClickHouse HTTP client directly).","Vercel Analytics reporting 'Function Duration' spikes > 1s on cold starts.","DevOps Engineer","2025-07-01","Monitoring"
"RISK-006","Resource","Knowledge gap regarding ClickHouse optimization (MergeTree engines, Partitioning keys) leading to inefficient queries and high costs.","3","4","12","Medium","WI-003 (ClickHouse Schema), WI-009 (ELT Process)","Team skill set is primarily React/Postgres; ClickHouse requires specific columnar database expertise for performant schema design.","Conduct a specific technology spike/training session for ClickHouse schema design. Engage a ClickHouse consultant or expert for schema review before production deployment.","Simplify OLAP queries and rely more heavily on pre-aggregation in the ELT layer (at the cost of flexibility).","ClickHouse query scans reading > 1GB of data for simple dashboard views.","Technical Lead","2025-05-25","Not Started"
"RISK-007","Quality","Webhook reliability issues causing data loss (e.g., missed `order.created` events) if Salla signature verification fails or queues overflow.","2","5","10","Medium","WI-007 (Webhook Handler), WS-002-A","Dependency on real-time event ingestion for data accuracy. Webhook spikes could overwhelm the serverless concurrency limits.","Implement raw body archiving for all incoming webhooks (before processing) to allow replay. Ensure signature verification (WI-007) is highly optimized. Use QStash for buffering.","Trigger the historical sync job (WI-008) in 'incremental mode' to fetch any orders missed by webhooks.","Discrepancy between Salla dashboard order count and platform order count.","Backend Developer","2025-06-05","In Progress"