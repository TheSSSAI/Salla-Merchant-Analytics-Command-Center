"risk_id","risk_category","risk_description","probability","impact","risk_score","priority_level","affected_tasks","root_cause","mitigation_strategy","contingency_plan","monitoring_trigger","owner","due_date","status"
"RISK-001","Technical","Serverless function execution timeouts during 24-month historical data synchronization due to Vercel's execution time limits (max 10-60s), causing incomplete data import.","5","5","25","Critical","WI-007 (Historical Data Sync Worker), EPIC-002","Mismatch between Vercel Serverless Function constraints and long-running nature of ETL processes for large datasets.","Implement recursive job chaining pattern where the sync worker processes a single page/batch, then enqueues the next page as a new QStash job before timing out.","Fallback to a dedicated containerized service (e.g., AWS Fargate or Vercel secure compute) for long-running sync jobs if serverless chaining proves unreliable.","Sync jobs stuck in 'Processing' state for > 15 minutes or high volume of QStash DLQ events.","Lead Backend Engineer","2023-11-15","Not Started"
"RISK-002","External","Salla API Rate Limiting (HTTP 429) blocking critical onboarding and real-time sync workflows, leading to data gaps and user frustration.","5","4","20","High","WI-006, WI-007, WI-008","Aggressive fetching logic during onboarding colliding with Salla's API quotas without centralized throttle management.","Implement a centralized rate-limiting middleware using Upstash Redis to track quotas and enforce exponential backoff with jitter for all Salla API clients.","Reduce default import depth from 24 months to 3 months during peak load periods to reduce API call volume.","Salla API error rate > 1% or detection of 'x-ratelimit-remaining' headers dropping below safety threshold.","Integration Specialist","2023-11-10","Not Started"
"RISK-003","Security","Tenant data isolation failure within the AI Assistant (RAG) pipeline, allowing a user to query or receive insights derived from another merchant's data via prompt injection.","3","5","15","High","WI-012, WI-013 (AI Chat API)","Reliance on LLM context adherence without strict deterministic enforcement of tenant ID scoping in vector search and SQL generation.","Enforce strict metadata filtering (merchant_id) at the pgvector query level and validate all LLM-generated SQL against an AST parser to ensure 'WHERE merchant_id =' clauses exist before execution.","Disable AI Assistant feature globally via feature flag while retaining standard analytics dashboards.","Detection of queries returning data IDs not associated with the authenticated user's merchant ID.","Security Architect","2023-12-01","Not Started"
"RISK-004","Technical","Data consistency drift between PostgreSQL (OLTP) and ClickHouse (OLAP) leading to inaccurate analytics reports compared to live store data.","3","5","15","High","WI-009 (CDC Pipeline), WI-010","Asynchronous CDC pipeline latency exceeding the 5-minute requirement or silent failures in the QStash-to-ClickHouse ingestion path.","Implement an idempotent batch ingestion pattern with deduplication logic in ClickHouse and a nightly reconciliation job to identify and fix drift.","Implement a 'Force Refresh' button in UI that triggers a targeted re-sync for specific date ranges from Salla API directly to ClickHouse.","Latency metric 'oltp_commit_to_olap_visible' exceeding 300 seconds (5 minutes).","Data Engineer","2023-11-20","Not Started"
"RISK-005","Operational","Webhook ingestion failures due to signature validation errors or cold start latency, resulting in missed 'cart.abandoned' events and lost revenue opportunities.","3","4","12","Medium","WI-008 (Webhook Handler), WI-015","Tight coupling of webhook validation logic with processing logic inside the serverless function handler.","Decouple ingestion: The webhook handler should strictly verify signature and push the payload to QStash immediately (Fire-and-forget), with processing happening in a separate worker.","Run a periodic polling job (e.g., every 1 hour) to fetch recent carts from Salla API and backfill missed webhooks.","Spike in 401/400 errors on webhook endpoint or discrepancy between 'webhooks_received' and 'carts_processed' metrics.","DevOps Engineer","2023-11-05","Not Started"
"RISK-006","Performance","Slow analytical query performance on large datasets violating the <200ms P95 requirement, causing dashboard timeouts.","4","3","12","Medium","WI-003, WI-010","Inefficient ClickHouse schema design (missing sorting keys or partitions) or performing heavy aggregations on raw data at query time.","Implement ClickHouse Materialized Views to pre-aggregate sales data by hour/day/month upon ingestion, querying these views instead of raw fact tables.","Implement rigorous caching headers (stale-while-revalidate) at the API edge level to serve cached data while background re-validation occurs.","P95 latency on '/api/analytics/sales' exceeding 200ms.","Database Architect","2023-11-25","Not Started"